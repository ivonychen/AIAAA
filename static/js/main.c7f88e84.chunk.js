(this.webpackJsonpkelly=this.webpackJsonpkelly||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(13),i=n.n(s),l=(n(62),n(33)),r=n(18),o=n(15),u=n(1),d=n(53),j=n(16),b=n(52),m=n(10),f=n(50),p=n(27),h=n(32),O=n(42),x=n(28),v=(n(63),n(2)),g=function(){var e={id:null,code:"0000",confidence:.2,ratio:0,win:1,loss:1,asset_allocation:0,roi:0,asset_money:0},t=Object(a.useState)([]),n=Object(o.a)(t,2),s=n[0],i=n[1],g=Object(a.useState)(null),y=Object(o.a)(g,2),N=y[0],w=y[1],S=Object(a.useState)(!1),k=Object(o.a)(S,2),C=k[0],F=k[1],L=Object(a.useState)(!1),P=Object(o.a)(L,2),_=P[0],D=P[1],T=Object(a.useState)(!1),U=Object(o.a)(T,2),R=U[0],A=U[1],I=Object(a.useState)(e),M=Object(o.a)(I,2),V=M[0],W=M[1],q=Object(a.useState)(null),H=Object(o.a)(q,2),z=H[0],B=H[1],E=Object(a.useState)(!1),J=Object(o.a)(E,2),Y=J[0],K=J[1],G=Object(a.useState)(null),Q=Object(o.a)(G,2),X=Q[0],Z=Q[1],$=Object(a.useRef)(null),ee=Object(a.useRef)(null),te=function(e){return e.toLocaleString("en-US",{style:"percent"})},ne=function(e){return e.toLocaleString("en-US",{style:"percent",minimumFractionDigits:2})},ae=function(){N?(W(e),le()):$.current.show({severity:"warn",summary:"Warning",detail:"The money value must be provided",life:3e3})},ce=function(){K(!1),F(!1)},se=function(){D(!1)},ie=function(){A(!1)},le=function(){if(V.code){if(K(!0),V.code.trim()){var t=Object(r.a)(s),n=Object(l.a)({},V);if(V.id)t[re(V.id)]=n,$.current.show({severity:"success",summary:"Successful",detail:"Stock Updated",life:3e3});else n.id=oe(),t.push(n),$.current.show({severity:"success",summary:"Successful",detail:"Stock Created",life:3e3});i(t),F(!1),W(e)}}else $.current.show({severity:"warn",summary:"Warning",detail:"The stock code must be provided",life:3e3})},re=function(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].id===e){t=n;break}return t},oe=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},ue=function(){ee.current.exportCSV()},de=function(){A(!0)},je=function(e){var t=e.confidence-(1-e.confidence)/(e.win/e.loss);return t<0?0:t};function be(e){return e.reduce((function(e,t){return e+t}))}var me=function(e,t){return isNaN(e/be(t))?0:e/be(t)},fe=function(e,t){return e*(1+t)},pe=function(e,t){var n=e.ratio,a=e.confidence,c=Object(r.a)(s);c[t].ratio=n,c[t].confidence=a;var i=c.map((function(e){return e.ratio})),l=me(n,i),o=fe(l,a);e.roi=o,e.asset_allocation=l,e.asset_money=N*l,c[t].roi=o,c[t].asset_allocation=l,c[t].asset_money=N*l,he(c,i,t),W(e)},he=function(e,t,n){for(var a=0;a<e.length;a++)if(a!==n){var c=e[a].ratio,s=e[a].confidence,i=me(c,t),l=fe(i,s);e[a].asset_allocation_value=i,e[a].roi=l,e[a].asset_money=N*i}return e},Oe=function(e,t){var n=e.value||0,a=Object(l.a)({},V),c=re(V.id);a["".concat(t)]=n,a.ratio=je({confidence:a.confidence,win:a.win,loss:a.loss}),W(a),pe(a,c)},xe=Object(v.jsxs)("div",{className:"table-header",children:[Object(v.jsx)("h5",{className:"p-mx-0 p-my-1",children:"Asset Allocation \u8cc7\u7522\u914d\u7f6e"}),Object(v.jsxs)("span",{className:"p-input-icon-left",children:[Object(v.jsx)("i",{className:"pi pi-search"}),Object(v.jsx)(x.a,{type:"search",onInput:function(e){return Z(e.target.value)},placeholder:"Search..."})]})]}),ve=Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:ce}),Object(v.jsx)(m.a,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:le})]}),ge=Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:se}),Object(v.jsx)(m.a,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=s.filter((function(e){return e.id!==V.id}));i(t),D(!1),W(e),$.current.show({severity:"success",summary:"Successful",detail:"Stock Deleted",life:3e3})}})]}),ye=Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:ie}),Object(v.jsx)(m.a,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=s.filter((function(e){return!z.includes(e)}));i(e),A(!1),B(null),$.current.show({severity:"success",summary:"Successful",detail:"Stocks Deleted",life:3e3})}})]});return Object(v.jsxs)("div",{className:"datatable-crud",children:[Object(v.jsx)(b.a,{ref:$}),Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)(f.a,{className:"p-mb-4",left:function(){return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsxs)("span",{className:"p-input-icon-left",children:[Object(v.jsx)(h.a,{id:"inputMoney",placeholder:"Input money...",min:0,value:N,onValueChange:function(e){return w(e.value)},mode:"currency",currency:"USD",locale:"en-US",required:!0,className:Object(u.h)({"p-invalid":!N},"input-money-margin")}),Object(v.jsx)("br",{}),!N&&Object(v.jsx)("small",{className:"p-error input-money-margin-span",children:"Money is required."})]}),Object(v.jsx)(m.a,{label:"New",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:ae}),Object(v.jsx)(m.a,{label:"Delete",icon:"pi pi-trash",className:"p-button-danger",onClick:de,disabled:!z||!z.length})]})},right:function(){return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(m.a,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:ue})})}}),Object(v.jsxs)(d.a,{ref:ee,value:s,selection:z,onSelectionChange:function(e){return B(e.value)},dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} stocks",globalFilter:X,header:xe,responsiveLayout:"scroll",children:[Object(v.jsx)(j.a,{selectionMode:"multiple",headerStyle:{width:"3rem"},exportable:!1}),Object(v.jsx)(j.a,{body:function(e){return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return function(e){N?(W(Object(l.a)({},e)),F(!0)):$.current.show({severity:"warn",summary:"Warning",detail:"The money value must be provided",life:3e3})}(e)}}),Object(v.jsx)(m.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){W(e),D(!0)}(e)}})]})},exportable:!1,className:"datatable-column"}),Object(v.jsx)(j.a,{field:"id",header:"ID",sortable:!0,hidden:!0}),Object(v.jsx)(j.a,{field:"code",header:"\u80a1\u7968\u4ee3\u865f",sortable:!0}),Object(v.jsx)(j.a,{field:"confidence",header:"\u4fe1\u5fc3\u5ea6",sortable:!0,body:function(e){return te(e.confidence)}}),Object(v.jsx)(j.a,{field:"ratio",header:"\u5efa\u8b70\u6bd4\u4f8b",sortable:!0,body:function(e){return te(e.ratio)}}),Object(v.jsx)(j.a,{field:"win",header:"\u505c\u5229",sortable:!0,body:function(e){var t=Object(u.h)({higher7percent:e.win>6&&e.win<20,higher20percent:e.win>19});return Object(v.jsx)("div",{className:t,children:te(e.win/100)})}}),Object(v.jsx)(j.a,{field:"loss",header:"\u505c\u640d",sortable:!0,body:function(e){var t=Object(u.h)({lower7percent:e.loss>6&&e.loss<20,lower20percent:e.loss>19});return Object(v.jsx)("div",{className:t,children:te(e.loss/100)})}}),Object(v.jsx)(j.a,{field:"asset_allocation",header:"\u8cc7\u7522\u914d\u7f6e\u7387",sortable:!0,body:function(e){return ne(e.asset_allocation)}}),Object(v.jsx)(j.a,{field:"roi",header:"\u6295\u5831\u7387",sortable:!0,body:function(e){return ne(e.roi)}}),Object(v.jsx)(j.a,{field:"asset_money",header:"\u5efa\u8b70\u914d\u7f6e\u91d1\u984d",sortable:!0,body:function(e){return Object(v.jsx)("div",{style:{fontWeight:"bold"},children:(t=e.asset_money,t.toLocaleString("en-US",{style:"currency",currency:"USD"}))});var t},className:"datatable-column"})]})]}),Object(v.jsxs)(O.a,{visible:C,header:"Stock Details",modal:!0,className:["p-fluid","dialog-width"],footer:ve,onHide:ce,children:[Object(v.jsxs)("div",{className:"p-field",children:[Object(v.jsx)("label",{htmlFor:"code",children:"\u80a1\u7968\u4ee3\u865f"}),Object(v.jsx)(x.a,{id:"code",value:V.code||"",onChange:function(e){return function(e,t){var n=e.target&&e.target.value||"",a=Object(l.a)({},V);a["".concat(t)]=n,W(a)}(e,"code")},required:!0,autoFocus:!0,className:Object(u.h)({"p-invalid":Y&&!V.code})}),!V.code&&Object(v.jsx)("small",{className:"p-error",children:"Code is required"})]}),Object(v.jsxs)("div",{className:"p-field",children:[Object(v.jsx)("label",{htmlFor:"confidence",children:"\u4fe1\u5fc3\u5ea6(%)"}),Object(v.jsx)(p.a,{value:V.confidence,options:[{label:"0%",value:0},{label:"20%",value:.2},{label:"40%",value:.4},{label:"60%",value:.6},{label:"80%",value:.8},{label:"100%",value:1}],optionLabel:"label",optionValue:"value",onChange:function(e){var t=Object(l.a)({},V),n=re(V.id),a=e.value;t.confidence=a;var c=je({confidence:a,win:t.win,loss:t.loss});t.ratio=c,W(t),pe(t,n)},placeholder:"Select a confidence value"})]}),Object(v.jsxs)("div",{className:"p-formgrid p-grid",children:[Object(v.jsxs)("div",{className:"p-field p-col",children:[Object(v.jsx)("label",{htmlFor:"win",children:"\u505c\u5229(%)"}),Object(v.jsx)(h.a,{id:"win",value:V.win,min:1,max:100,onValueChange:function(e){return Oe(e,"win")},integeronly:!0}),!V.win&&Object(v.jsx)("small",{className:"p-error",children:"Lock in gain is must greater than 0"})]}),Object(v.jsxs)("div",{className:"p-field p-col",children:[Object(v.jsx)("label",{htmlFor:"loss",children:"\u505c\u640d(%)"}),Object(v.jsx)(h.a,{id:"loss",value:V.loss,min:1,max:100,onValueChange:function(e){return Oe(e,"loss")},integeronly:!0}),!V.loss&&Object(v.jsx)("small",{className:"p-error",children:"Stop-loss point is must greater than 0"})]})]})]}),Object(v.jsx)(O.a,{visible:_,className:"dialog-width",header:"Confirm",modal:!0,footer:ge,onHide:se,children:Object(v.jsxs)("div",{className:"confirmation-content",children:[Object(v.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),V&&Object(v.jsxs)("span",{children:["Are you sure you want to delete ",Object(v.jsx)("b",{children:V.code}),"?"]})]})}),Object(v.jsx)(O.a,{visible:R,className:"dialog-width",header:"Confirm",modal:!0,footer:ye,onHide:ie,children:Object(v.jsxs)("div",{className:"confirmation-content",children:[Object(v.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),V&&Object(v.jsx)("span",{children:"Are you sure you want to delete the selected stocks?"})]})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},N=n(80),w=n(78);i.a.render(Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(N.a,{}),Object(v.jsx)(w.a,{maxWidth:"xl",children:Object(v.jsx)(g,{})})]}),document.getElementById("root")),y()}},[[67,1,2]]]);