(this.webpackJsonpkelly=this.webpackJsonpkelly||[]).push([[0],{78:function(e,t,n){},80:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(14),s=n.n(i),l=(n(78),n(57)),o=n(40),r=n(60);l.a.use(r.a).use(o.e).init({backend:{loadPath:"/i18n/{{lng}}/{{ns}}.json"},fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1}});l.a;var d=n(36),u=n(19),j=n(13),b=n(1),m=n(68),p=n(17),h=n(67),f=n(10),O=n(64),x=n(26),v=n(35),g=n(51),y=n(30),_=(n(80),n(103)),w=n(2),N=function(){var e={id:null,code:"0000",confidence:.2,ratio:0,win:1,loss:1,asset_allocation:0,roi:0,asset_money:0,positive_roi_money:0,negative_roi_money:0},t=[{label:"EN",value:"en"},{label:"TW",value:"tw"}],n=Object(a.useState)([]),i=Object(j.a)(n,2),s=i[0],l=i[1],o=Object(a.useState)(null),r=Object(j.a)(o,2),N=r[0],k=r[1],S=Object(a.useState)(!1),C=Object(j.a)(S,2),F=C[0],L=C[1],P=Object(a.useState)(!1),D=Object(j.a)(P,2),V=D[0],R=D[1],U=Object(a.useState)(!1),W=Object(j.a)(U,2),q=W[0],I=W[1],T=Object(a.useState)(e),M=Object(j.a)(T,2),H=M[0],z=M[1],B=Object(a.useState)(null),E=Object(j.a)(B,2),J=E[0],$=E[1],A=Object(a.useState)(!1),G=Object(j.a)(A,2),K=G[0],Q=G[1],X=Object(a.useState)(null),Y=Object(j.a)(X,2),Z=Y[0],ee=Y[1],te=Object(a.useRef)(null),ne=Object(a.useRef)(null),ae=Object(a.useState)("en"),ce=Object(j.a)(ae,2),ie=ce[0],se=ce[1],le=Object(_.a)(),oe=le.t,re=le.i18n,de=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})},ue=function(e){return e.toLocaleString("en-US",{style:"percent"})},je=function(){N?(z(e),he()):te.current.show({severity:"warn",summary:oe("warning"),detail:oe("input_money_required"),life:3e3})},be=function(){Q(!1),L(!1)},me=function(){R(!1)},pe=function(){I(!1)},he=function(){if(H.code){if(Q(!0),H.code.trim()){var t=Object(u.a)(s),n=Object(d.a)({},H);if(H.id)t[fe(H.id)]=n,te.current.show({severity:"success",summary:oe("successful"),detail:oe("update_stock_done"),life:3e3});else n.id=Oe(),t.push(n),te.current.show({severity:"success",summary:oe("successful"),detail:oe("create_stock_done"),life:3e3});l(t),L(!1),z(e)}}else te.current.show({severity:"warn",summary:oe("warning"),detail:oe("stock_add_warning"),life:3e3})},fe=function(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].id===e){t=n;break}return t},Oe=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},xe=function(){ne.current.exportCSV()},ve=function(){I(!0)},ge=function(e){var t=e.confidence-(1-e.confidence)/(e.win/e.loss);return t<0?0:t};function ye(e){return e.reduce((function(e,t){return e+t}))}var _e=function(e,t){return isNaN(e/ye(t))?0:e/ye(t)},we=function(e,t){return e*(1+t)},Ne=function(e,t){var n=e.ratio,a=e.confidence,c=Object(u.a)(s);c[t].ratio=n,c[t].confidence=a;var i=c.map((function(e){return e.ratio})),l=_e(n,i),o=we(l,a);e.roi=o,e.asset_allocation=l,e.asset_money=N*l,c[t].roi=o,c[t].asset_allocation=l,c[t].asset_money=N*l,ke(c,i,t),z(e)},ke=function(e,t,n){for(var a=0;a<e.length;a++)if(a!==n){var c=e[a].ratio,i=e[a].confidence,s=_e(c,t),l=we(s,i);e[a].asset_allocation_value=s,e[a].roi=l,e[a].asset_money=N*s}return e},Se=function(e,t){var n=e.value||0,a=Object(d.a)({},H),c=fe(H.id);a["".concat(t)]=n,a.ratio=ge({confidence:a.confidence,win:a.win,loss:a.loss}),z(a),Ne(a,c)},Ce=Object(w.jsxs)("div",{className:"table-header",children:[Object(w.jsx)("h5",{className:"p-mx-0 p-my-1",children:oe("title")}),Object(w.jsxs)("span",{className:"p-input-icon-left",children:[Object(w.jsx)("i",{className:"pi pi-search"}),Object(w.jsx)(y.a,{type:"search",onInput:function(e){return ee(e.target.value)},placeholder:oe("search")})]})]}),Fe=Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(f.a,{label:oe("cancel"),icon:"pi pi-times",className:"p-button-text",onClick:be}),Object(w.jsx)(f.a,{label:oe("save"),icon:"pi pi-check",className:"p-button-text",onClick:he})]}),Le=Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(f.a,{label:oe("no"),icon:"pi pi-times",className:"p-button-text",onClick:me}),Object(w.jsx)(f.a,{label:oe("yes"),icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=s.filter((function(e){return e.id!==H.id}));l(t),R(!1),z(e),te.current.show({severity:"success",summary:oe("successful"),detail:oe("delete_stock_done"),life:3e3})}})]}),Pe=Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(f.a,{label:oe("no"),icon:"pi pi-times",className:"p-button-text",onClick:pe}),Object(w.jsx)(f.a,{label:oe("yes"),icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=s.filter((function(e){return!J.includes(e)}));l(e),I(!1),$(null),te.current.show({severity:"success",summary:oe("successful"),detail:oe("delete_stocks_done"),life:3e3})}})]});return Object(w.jsxs)("div",{className:"datatable-crud",children:[Object(w.jsx)(h.a,{ref:te}),Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)(O.a,{className:"p-mb-4",left:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(c.a.Fragment,{children:Object(w.jsxs)("span",{className:"p-input-icon-left",children:[Object(w.jsx)(v.a,{id:"inputMoney",placeholder:oe("input_money"),min:0,value:N,onValueChange:function(e){return k(e.value)},mode:"currency",currency:"USD",locale:"en-US",required:!0,className:Object(b.h)({"p-invalid":!N},"input-money-margin")}),Object(w.jsx)("br",{}),!N&&Object(w.jsx)("small",{className:"p-error input-money-margin-span",children:oe("input_money_required")})]})}),Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(f.a,{label:oe("new"),icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:je}),Object(w.jsx)(f.a,{label:oe("delete"),icon:"pi pi-trash",className:"p-button-danger",onClick:ve,disabled:!J||!J.length})]})]})},right:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(c.a.Fragment,{children:Object(w.jsx)(f.a,{label:oe("export"),icon:"pi pi-upload",className:"p-button-help p-mr-2",onClick:xe})}),Object(w.jsx)(c.a.Fragment,{children:Object(w.jsx)(x.a,{className:"p-mr-2",dropdownIcon:"pi pi-globe",value:ie,options:t,optionLabel:"label",optionValue:"value",onChange:function(e){var t;t=e.target.value,se(t),re.changeLanguage(t)}})})]})}}),Object(w.jsxs)(m.a,{ref:ne,value:s,selection:J,showGridlines:!0,onSelectionChange:function(e){return $(e.value)},dataKey:"id",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:oe("showing")+" {first} "+oe("to")+" {last} "+oe("of")+" {totalRecords} "+oe("stocks"),globalFilter:Z,header:Ce,responsiveLayout:"scroll",children:[Object(w.jsx)(p.a,{selectionMode:"multiple",headerStyle:{width:"3rem"},exportable:!1}),Object(w.jsx)(p.a,{body:function(e){return Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(f.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return function(e){N?(z(Object(d.a)({},e)),L(!0)):te.current.show({severity:"warn",summary:oe("warning"),detail:oe("input_money_required"),life:3e3})}(e)}}),Object(w.jsx)(f.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){z(e),R(!0)}(e)}})]})},exportable:!1}),Object(w.jsx)(p.a,{field:"id",header:"ID",sortable:!0,hidden:!0}),Object(w.jsx)(p.a,{field:"code",header:oe("stock_code"),sortable:!0}),Object(w.jsx)(p.a,{field:"confidence",header:oe("confidence")+"(%)",sortable:!0,body:function(e){return ue(e.confidence)}}),Object(w.jsx)(p.a,{field:"win",headerStyle:{color:"blue"},header:oe("take_profit_point")+"(%)",sortable:!0,body:function(e){var t=Object(b.h)({higher7percent:e.win>6&&e.win<20,higher20percent:e.win>19});return Object(w.jsx)("div",{className:t,children:ue(e.win/100)})}}),Object(w.jsx)(p.a,{field:"loss",headerStyle:{color:"blue"},header:oe("stop_loss_point")+"(%)",sortable:!0,body:function(e){var t=Object(b.h)({lower7percent:e.loss>6&&e.loss<20,lower20percent:e.loss>19});return Object(w.jsx)("div",{className:t,children:ue(e.loss/100)})}}),Object(w.jsx)(p.a,{field:"asset_allocation",header:oe("asset_allocation_rate")+"(%)",sortable:!0,body:function(e){return e.asset_allocation.toLocaleString("en-US",{style:"percent",minimumFractionDigits:2})}}),Object(w.jsx)(p.a,{field:"asset_money",headerStyle:{color:"red"},header:oe("asset_money")+"($)",sortable:!0,body:function(e){return Object(w.jsx)("div",{style:{fontWeight:"bold"},children:de(e.asset_money)})},className:"datatable-column"}),Object(w.jsx)(p.a,{field:"positive_roi_money",headerStyle:{color:"red"},header:oe("positive_roi_money")+"($)",sortable:!0,body:function(e){var t=Object(b.h)({higher20percent:e.win>79}),n=e.win*e.asset_money/100;return Object(w.jsx)("div",{style:{fontWeight:"bold"},className:t,children:de(n)})},className:"datatable-column"}),Object(w.jsx)(p.a,{field:"negative_roi_money",headerStyle:{color:"red"},header:oe("negative_roi_money")+"($)",sortable:!0,body:function(e){var t=Object(b.h)({lower20percent:e.loss>79}),n=e.loss*e.asset_money/-100;return Object(w.jsx)("div",{style:{fontWeight:"bold"},className:t,children:de(n)})},className:"datatable-column"})]})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("p",{children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:oe("disclaimer")}),":",Object(w.jsx)("br",{}),oe("disclaimer_content")]})}),Object(w.jsxs)(g.a,{visible:F,header:"Stock Details",modal:!0,className:["p-fluid","dialog-width"],footer:Fe,onHide:be,children:[Object(w.jsxs)("div",{className:"p-field",children:[Object(w.jsx)("label",{htmlFor:"code",children:oe("stock_code")}),Object(w.jsx)(y.a,{id:"code",value:H.code||"",onChange:function(e){return function(e,t){var n=e.target&&e.target.value||"",a=Object(d.a)({},H);a["".concat(t)]=n,z(a)}(e,"code")},required:!0,autoFocus:!0,className:Object(b.h)({"p-invalid":K&&!H.code})}),!H.code&&Object(w.jsx)("small",{className:"p-error",children:oe("stock_add_warning")})]}),Object(w.jsxs)("div",{className:"p-field",children:[Object(w.jsx)("label",{htmlFor:"confidence",children:oe("confidence")+"(%)"}),Object(w.jsx)(x.a,{value:H.confidence,options:[{label:"0%",value:0},{label:"20%",value:.2},{label:"40%",value:.4},{label:"60%",value:.6},{label:"80%",value:.8},{label:"100%",value:1}],optionLabel:"label",optionValue:"value",onChange:function(e){var t=Object(d.a)({},H),n=fe(H.id),a=e.value;t.confidence=a;var c=ge({confidence:a,win:t.win,loss:t.loss});t.ratio=c,z(t),Ne(t,n)},placeholder:oe("select_confidence")})]}),Object(w.jsxs)("div",{className:"p-formgrid p-grid",children:[Object(w.jsxs)("div",{className:"p-field p-col",children:[Object(w.jsx)("label",{htmlFor:"win",children:oe("take_profit_point")+"(%)"}),Object(w.jsx)(v.a,{id:"win",value:H.win,min:1,max:100,onValueChange:function(e){return Se(e,"win")},integeronly:!0}),!H.win&&Object(w.jsx)("small",{className:"p-error",children:oe("lock_in_gain_warning")})]}),Object(w.jsxs)("div",{className:"p-field p-col",children:[Object(w.jsx)("label",{htmlFor:"loss",children:oe("stop_loss_point")+"(%)"}),Object(w.jsx)(v.a,{id:"loss",value:H.loss,min:1,max:100,onValueChange:function(e){return Se(e,"loss")},integeronly:!0}),!H.loss&&Object(w.jsx)("small",{className:"p-error",children:oe("stop_loss_point_warning")})]})]})]}),Object(w.jsx)(g.a,{visible:V,className:"dialog-width",header:oe("confirm"),modal:!0,footer:Le,onHide:me,children:Object(w.jsxs)("div",{className:"confirmation-content",children:[Object(w.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),H&&Object(w.jsxs)("span",{children:[oe("delete_single_confirm_description")," ",Object(w.jsx)("b",{children:H.code}),"?"]})]})}),Object(w.jsx)(g.a,{visible:q,className:"dialog-width",header:oe("confirm"),modal:!0,footer:Pe,onHide:pe,children:Object(w.jsxs)("div",{className:"confirmation-content",children:[Object(w.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),H&&Object(w.jsx)("span",{children:oe("delete_all_confirm_description")})]})})]})};var k=function(){return Object(w.jsx)(a.Suspense,{fallback:"loading",children:Object(w.jsx)(N,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},C=n(102),F=n(100);s.a.render(Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(C.a,{}),Object(w.jsx)(F.a,{maxWidth:"xl",children:Object(w.jsx)(k,{})})]}),document.getElementById("root")),S()}},[[89,1,2]]]);