(this.webpackJsonpkelly=this.webpackJsonpkelly||[]).push([[0],{87:function(e,t,a){},89:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(16),s=a.n(i),r=(a(87),a(66)),l=a(46),o=a(69);r.a.use(o.a).use(l.e).init({backend:{loadPath:"/AIAAA/i18n/{{lng}}/{{ns}}.json"},fallbackLng:"tw",lng:"tw",interpolation:{escapeValue:!1}});r.a;var d=a(39),b=a(14),j=a(10),u=a(1),h=a(77),p=a(6),m=a(64),O=a(47),f=a(76),g=a(11),x=a(73),_=a(29),y=a(41),v=a(48),w=a(34),N=(a(89),a(113)),S=a(65),k=a(2),C=function(){var e={id:null,code:"0000",confidence:.2,ratio:0,win:1,loss:1,asset_allocation:0,roi:0,asset_money:0,positive_roi_money:0,avg_roi_money:0,negative_roi_money:0},t=[{label:"EN",value:"en"},{label:"TW",value:"tw"}],a=Object(n.useState)([]),i=Object(j.a)(a,2),s=i[0],r=i[1],l=Object(n.useState)([]),o=Object(j.a)(l,2),C=o[0],F=o[1],L=Object(n.useState)(null),P=Object(j.a)(L,2),M=P[0],W=P[1],D=Object(n.useState)(0),I=Object(j.a)(D,2),V=I[0],R=I[1],U=Object(n.useState)(!1),q=Object(j.a)(U,2),A=q[0],T=q[1],H=Object(n.useState)(!1),J=Object(j.a)(H,2),z=J[0],B=J[1],E=Object(n.useState)(!1),G=Object(j.a)(E,2),K=G[0],Q=G[1],X=Object(n.useState)(!1),Y=Object(j.a)(X,2),Z=Y[0],$=Y[1],ee=Object(n.useState)(e),te=Object(j.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(null),ie=Object(j.a)(ce,2),se=ie[0],re=ie[1],le=Object(n.useState)(!1),oe=Object(j.a)(le,2),de=oe[0],be=oe[1],je=Object(n.useState)(null),ue=Object(j.a)(je,2),he=ue[0],pe=ue[1],me=Object(n.useRef)(null),Oe=Object(n.useRef)(null),fe=Object(n.useState)(0),ge=Object(j.a)(fe,2),xe=ge[0],_e=ge[1],ye=Object(n.useState)(0),ve=Object(j.a)(ye,2),we=ve[0],Ne=ve[1],Se=Object(n.useState)(0),ke=Object(j.a)(Se,2),Ce=ke[0],Fe=ke[1],Le=Object(n.useState)(0),Pe=Object(j.a)(Le,2),Me=Pe[0],We=Pe[1],De=Object(n.useState)(0),Ie=Object(j.a)(De,2),Ve=Ie[0],Re=Ie[1],Ue=Object(n.useState)(0),qe=Object(j.a)(Ue,2),Ae=qe[0],Te=qe[1],He=Object(n.useState)("tw"),Je=Object(j.a)(He,2),ze=Je[0],Be=Je[1],Ee=function(e){if(V>0){var t=JSON.parse(JSON.stringify(Object(b.a)(s)));F(t)}W(e.value),R(V+1)},Ge=Object(N.a)(),Ke=Ge.t,Qe=Ge.i18n,Xe=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})},Ye=function(e){return e.toLocaleString("en-US",{style:"percent"})},Ze=function(){M?(ne(e),at()):me.current.show({severity:"warn",summary:Ke("warning"),detail:Ke("input_money_required"),life:3e3})},$e=function(){be(!1),B(!1)},et=function(){Q(!1)},tt=function(){$(!1)},at=function(){if(ae.code){if(be(!0),ae.code.trim()){var t=Object(b.a)(s),a=Object(d.a)({},ae);if(ae.id)t[ct(ae.id)]=a,me.current.show({severity:"success",summary:Ke("successful"),detail:Ke("update_target_done"),life:3e3});else a.id=it(),t.push(a),me.current.show({severity:"success",summary:Ke("successful"),detail:Ke("create_target_done"),life:3e3});r(t),B(!1),ne(e)}}else me.current.show({severity:"warn",summary:Ke("warning"),detail:Ke("target_add_warning"),life:3e3})},nt=function(e){if(e.length>1){var t=ot(e.map((function(e){return e.positive_roi_money}))),a=ot(e.map((function(e){return e.avg_roi_money}))),n=ot(e.map((function(e){return e.negative_roi_money}))),c=ot(e.map((function(e){return e.confidence}))),i=ot(e.map((function(e){return e.win}))),s=ot(e.map((function(e){return e.loss})));_e(c),Ne(i),Fe(s),We(t),Re(a),Te(n)}else _e(0),Ne(0),Fe(0),We(0),Re(0),Te(0)},ct=function(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].id===e){t=a;break}return t},it=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},st=function(){Oe.current.exportCSV()},rt=function(){$(!0)},lt=function(e){var t=e.confidence-(1-e.confidence)/(e.win/e.loss);return t<0?0:t},ot=function(e){return dt(e)/e.length};function dt(e){return e.reduce((function(e,t){return e+t}))}var bt=function(e,t){return isNaN(e/dt(t))?0:e/dt(t)},jt=function(e,t){return e*(1+t)},ut=function(e,t){var a=e.ratio,n=e.confidence,c=Object(b.a)(s);1===c.length&&(t=0),c[t].ratio=a,c[t].confidence=n;var i=c.map((function(e){return e.ratio})),r=bt(a,i),l=jt(r,n);e.roi=l,e.asset_allocation=r,e.asset_money=M*r,c[t].roi=l,c[t].asset_allocation=r,c[t].asset_money=M*r,ht(c,i,t),ne(e)},ht=function(e,t,a){for(var n=0;n<e.length;n++)if(n!==a){var c=e[n].ratio,i=e[n].confidence,s=bt(c,t),r=jt(s,i);e[n].asset_allocation=s,e[n].roi=r,e[n].asset_money=M*s,e[n].positive_roi_money=e[n].win*M*s/100,e[n].negative_roi_money=e[n].loss*M*s/-100}return e};function pt(e,t,a,n){return[{labels:t,datasets:[{data:a,backgroundColor:n,hoverBackgroundColor:n}]},{plugins:{title:{display:!0,text:e,font:{size:16}},legend:{labels:{color:"#495057"}}}}]}var mt=function(){var e=Object(b.a)(s),t=Object(b.a)(C),a=function(e){for(var t=[],a=0;a<e;a++){for(var n=[],c=0;c<3;c++)n.push(Math.floor(255*Math.random()));t.push("rgb("+n.join(",")+")")}return t}(e.length),n=pt(Ke("new_asset"),e.map((function(e){return e.code})),e.map((function(e){return e.asset_money})),a),i=n[0],r=n[1],l=pt(Ke("old_asset"),t.map((function(e){return e.code})),t.map((function(e){return e.asset_money})),a),o=l[0],d=l[1];return T(!0),Object(k.jsxs)("div",{children:[C.length>1&&Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(S.a,{type:"pie",data:o,options:d,className:"flexbox-container"})}),Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(S.a,{type:"pie",data:i,options:r,className:C.length>1?"flexbox-container":null})})]})},Ot=function(e,t){var a=e.value||0,n=Object(d.a)({},ae),c=ct(ae.id);n["".concat(t)]=a,n.ratio=lt({confidence:n.confidence,win:n.win,loss:n.loss}),ne(n),ut(n,c)},ft=function(e){return e.asset_allocation.toLocaleString("en-US",{style:"percent",minimumFractionDigits:2})},gt=function(e){return Object(k.jsx)("div",{style:{fontWeight:"bold"},children:Xe(e.asset_money)})},xt=function(e){var t,a=e.win*e.asset_money/100;return t="tw"===ze?Object(u.h)({higher7percent:a>1,higher20percent:e.win>79}):Object(u.h)({lower7percent:a>1,lower20percent:e.win>79}),Object(k.jsx)("div",{style:{fontWeight:"bold"},className:t,children:Xe(a)})},_t=function(e){var t,a=(e.win-e.loss)/100/2*e.asset_money;return"tw"===ze?a>1?t=Object(u.h)({higher7percent:a>1}):a<0&&(t=Object(u.h)({lower7percent:a<1})):a>1?t=Object(u.h)({lower7percent:a>1}):a<0&&(t=Object(u.h)({higher7percent:a<1})),Object(k.jsx)("div",{style:{fontWeight:"bold"},className:t,children:Xe(a)})},yt=function(e){var t,a=e.loss*e.asset_money;return t="tw"===ze?Object(u.h)({lower7percent:a>1,lower20percent:e.loss>79}):Object(u.h)({higher7percent:a>1,higher20percent:e.loss>79}),a/=-100,Object(k.jsx)("div",{style:{fontWeight:"bold"},className:t,children:Xe(a)})},vt=function(e){return Ye(e.confidence)},wt=function(e){var t;return t="tw"===ze?Object(u.h)({higher7percent:e.win>6&&e.win<20,higher20percent:e.win>19}):Object(u.h)({lower7percent:e.win>6&&e.win<20,lower20percent:e.win>19}),Object(k.jsx)("div",{className:t,children:Ye(e.win/100)})},Nt=function(e){var t;return t="tw"===ze?Object(u.h)({lower7percent:e.loss>6&&e.loss<20,lower20percent:e.loss>19}):Object(u.h)({higher7percent:e.loss>6&&e.loss<20,higher20percent:e.loss>19}),Object(k.jsx)("div",{className:t,children:Ye(-e.loss/100)})},St=function(e){return Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(g.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return function(e){if(M){var t=Object(b.a)(s);nt(t),ne(Object(d.a)({},e)),B(!0)}else me.current.show({severity:"warn",summary:Ke("warning"),detail:Ke("input_money_required"),life:3e3})}(e)}}),Object(k.jsx)(g.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){ne(e),Q(!0)}(e)}})]})},kt=Object(k.jsxs)("div",{className:"table-header",children:[Object(k.jsx)("h5",{className:"p-mx-0 p-my-1",children:Ke("title")}),Object(k.jsxs)("span",{className:"p-input-icon-left",children:[Object(k.jsx)("i",{className:"pi pi-search"}),Object(k.jsx)(w.a,{type:"search",onInput:function(e){return pe(e.target.value)},placeholder:Ke("search")})]})]}),Ct=Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(g.a,{label:Ke("cancel"),icon:"pi pi-times",className:"p-button-text",onClick:$e}),Object(k.jsx)(g.a,{label:Ke("save"),icon:"pi pi-check",className:"p-button-text",onClick:at})]}),Ft=Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(g.a,{label:Ke("no"),icon:"pi pi-times",className:"p-button-text",onClick:et}),Object(k.jsx)(g.a,{label:Ke("yes"),icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=s.filter((function(e){return e.id!==ae.id}));r(t),Q(!1),ne(e),me.current.show({severity:"success",summary:Ke("successful"),detail:Ke("delete_target_done"),life:3e3})}})]}),Lt=Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(g.a,{label:Ke("no"),icon:"pi pi-times",className:"p-button-text",onClick:tt}),Object(k.jsx)(g.a,{label:Ke("yes"),icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=s.filter((function(e){return!se.includes(e)}));r(e),$(!1),re(null),nt(e),me.current.show({severity:"success",summary:Ke("successful"),detail:Ke("delete_targets_done"),life:3e3})}})]}),Pt=Object(k.jsxs)(m.a,{children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(p.a,{header:Ke("target_area"),align:"center",rowSpan:2,colSpan:3})}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(p.a,{header:Ke("self_setting_area"),align:"center",colSpan:3}),Object(k.jsx)(p.a,{header:Ke("suggestion_area"),align:"center",colSpan:2}),Object(k.jsx)(p.a,{header:Ke("win_loss_range_area"),align:"center",colSpan:3})]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(p.a,{selectionMode:"multiple",headerStyle:{width:"3rem"},exportable:!1}),Object(k.jsx)(p.a,{header:Ke("edit_delete"),headerStyle:{width:"9rem"},align:"center",body:St,exportable:!1}),Object(k.jsx)(p.a,{field:"id",header:"ID",sortable:!0,hidden:!0}),Object(k.jsx)(p.a,{field:"code",header:Ke("target_code"),sortable:!0}),Object(k.jsx)(p.a,{header:Ke("confidence"),sortable:!0,body:vt}),Object(k.jsx)(p.a,{field:"win",headerStyle:{color:"black"},header:Ke("take_profit_point"),sortable:!0,body:wt}),Object(k.jsx)(p.a,{field:"loss",headerStyle:{color:"black"},header:Ke("stop_loss_point"),sortable:!0,body:Nt}),Object(k.jsx)(p.a,{field:"asset_allocation",header:Ke("asset_allocation_rate"),sortable:!0,body:ft}),Object(k.jsx)(p.a,{field:"asset_money",headerStyle:{color:"black"},header:Ke("asset_money"),sortable:!0,body:gt,className:"datatable-column"}),Object(k.jsx)(p.a,{field:"positive_roi_money",headerStyle:{color:"black"},header:Ke("positive_roi_money"),sortable:!0,body:xt,className:"datatable-column"}),Object(k.jsx)(p.a,{field:"avg_roi_money",headerStyle:{color:"black"},header:Ke("avg_roi_money"),sortable:!0,body:_t,className:"datatable-column"}),Object(k.jsx)(p.a,{field:"negative_roi_money",headerStyle:{color:"black"},header:Ke("negative_roi_money"),sortable:!0,body:yt,className:"datatable-column"})]})]});m.a,O.a,p.a,Ke("avg"),p.a,Ye(xe),p.a,Ye(we/100),p.a,Ye(-Ce/100),p.a,p.a,p.a,Xe(Me),p.a,Xe(Ve),p.a,Xe(Ae);return Object(k.jsxs)("div",{className:"datatable-crud",children:[Object(k.jsx)(f.a,{ref:me}),Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)(x.a,{className:"p-mb-4",left:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(c.a.Fragment,{children:Object(k.jsxs)("span",{className:"p-input-icon-left",children:[Object(k.jsx)(y.a,{id:"inputMoney",placeholder:Ke("input_money"),min:0,value:M,onValueChange:Ee,mode:"currency",currency:"USD",locale:"en-US",required:!0,className:Object(u.h)({"p-invalid":!M},"input-money-margin")}),Object(k.jsx)("br",{}),!M&&Object(k.jsx)("small",{className:"p-error input-money-margin-span",children:Ke("input_money_required")})]})}),Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(g.a,{label:Ke("new"),icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:Ze}),Object(k.jsx)(g.a,{label:Ke("delete"),icon:"pi pi-trash",className:"p-button-danger p-mr-2",onClick:rt,disabled:!se||!se.length})]}),Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(g.a,{label:Ke("pie"),icon:"pi pi-chart-pie",className:"p-button-help p-mr-2",onClick:function(){return T(!0)}})})]})},right:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(g.a,{label:Ke("export"),icon:"pi pi-upload",className:"p-button-help p-mr-2",onClick:st})}),Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(_.a,{className:"p-mr-2",dropdownIcon:"pi pi-globe",value:ze,options:t,optionLabel:"label",optionValue:"value",onChange:function(e){var t;t=e.target.value,Be(t),Qe.changeLanguage(t)}})})]})}}),Object(k.jsxs)(h.a,{ref:Oe,value:s,selection:se,showGridlines:!0,onSelectionChange:function(e){return re(e.value)},dataKey:"id",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:Ke("showing")+" {first} "+Ke("to")+" {last} "+Ke("of")+" {totalRecords} "+Ke("targets"),globalFilter:he,header:kt,responsiveLayout:"scroll",emptyMessage:Ke("data_empty_msg"),headerColumnGroup:Pt,children:[Object(k.jsx)(p.a,{selectionMode:"multiple",headerStyle:{width:"3rem"},exportable:!1}),Object(k.jsx)(p.a,{header:Ke("edit_delete"),body:St,exportable:!1}),Object(k.jsx)(p.a,{field:"id",header:"ID",sortable:!0,hidden:!0}),Object(k.jsx)(p.a,{field:"code",header:Ke("target_code"),sortable:!0}),Object(k.jsx)(p.a,{field:"confidence",header:Ke("confidence"),sortable:!0,body:vt}),Object(k.jsx)(p.a,{field:"win",headerStyle:{color:"black"},header:Ke("take_profit_point"),sortable:!0,body:wt}),Object(k.jsx)(p.a,{field:"loss",headerStyle:{color:"black"},header:Ke("stop_loss_point"),sortable:!0,body:Nt}),Object(k.jsx)(p.a,{field:"asset_allocation",header:Ke("asset_allocation_rate"),sortable:!0,body:ft}),Object(k.jsx)(p.a,{field:"asset_money",headerStyle:{color:"black"},header:Ke("asset_money"),sortable:!0,body:gt,className:"datatable-column"}),Object(k.jsx)(p.a,{field:"positive_roi_money",headerStyle:{color:"black"},header:Ke("positive_roi_money"),sortable:!0,body:xt,className:"datatable-column"}),Object(k.jsx)(p.a,{field:"avg_roi_money",headerStyle:{color:"black"},header:Ke("avg_roi_money"),sortable:!0,body:_t,className:"datatable-column"}),Object(k.jsx)(p.a,{field:"negative_roi_money",headerStyle:{color:"black"},header:Ke("negative_roi_money"),sortable:!0,body:yt,className:"datatable-column"})]})]}),Object(k.jsx)("div",{children:Object(k.jsxs)("p",{children:[Object(k.jsx)("span",{style:{fontWeight:"bold"},children:Ke("disclaimer")}),":",Object(k.jsx)("br",{}),Ke("disclaimer_content")]})}),Object(k.jsx)(v.a,{visible:A,header:Ke("pie"),modal:!0,style:{width:"calc(50% - 10px)"},onHide:function(){T(!1)},children:A&&Object(k.jsx)(mt,{})}),Object(k.jsxs)(v.a,{visible:z,header:Ke("target_details"),modal:!0,className:["p-fluid","dialog-width"],footer:Ct,onHide:$e,children:[Object(k.jsxs)("div",{className:"p-field",children:[Object(k.jsx)("label",{htmlFor:"code",children:Ke("target_code")}),Object(k.jsx)(w.a,{id:"code",value:ae.code||"",onChange:function(e){return function(e,t){var a=e.target&&e.target.value||"",n=Object(d.a)({},ae);n["".concat(t)]=a,ne(n)}(e,"code")},required:!0,autoFocus:!0,className:Object(u.h)({"p-invalid":de&&!ae.code})}),!ae.code&&Object(k.jsx)("small",{className:"p-error",children:Ke("target_add_warning")})]}),Object(k.jsxs)("div",{className:"p-field",children:[Object(k.jsx)("label",{htmlFor:"confidence",children:Ke("confidence")+"(%)"}),Object(k.jsx)(_.a,{value:ae.confidence,options:[{label:"0%",value:0},{label:"20%",value:.2},{label:"40%",value:.4},{label:"60%",value:.6},{label:"80%",value:.8},{label:"100%",value:1}],optionLabel:"label",optionValue:"value",onChange:function(e){var t=Object(d.a)({},ae),a=ct(ae.id),n=e.value;t.confidence=n;var c=lt({confidence:n,win:t.win,loss:t.loss});t.ratio=c,ne(t),ut(t,a)},placeholder:Ke("select_confidence"),style:{minWidth:"10em"}})]}),Object(k.jsxs)("div",{className:"p-formgrid p-grid",children:[Object(k.jsxs)("div",{className:"p-field p-col",children:[Object(k.jsx)("label",{htmlFor:"win",children:Ke("take_profit_point")+"(%)"}),Object(k.jsx)(y.a,{id:"win",value:ae.win,min:1,max:100,onValueChange:function(e){return Ot(e,"win")},integeronly:!0}),!ae.win&&Object(k.jsx)("small",{className:"p-error",children:Ke("lock_in_gain_warning")})]}),Object(k.jsxs)("div",{className:"p-field p-col",children:[Object(k.jsx)("label",{htmlFor:"loss",children:Ke("stop_loss_point")+"(%)"}),Object(k.jsx)(y.a,{id:"loss",value:ae.loss,min:1,max:100,onValueChange:function(e){return Ot(e,"loss")},integeronly:!0}),!ae.loss&&Object(k.jsx)("small",{className:"p-error",children:Ke("stop_loss_point_warning")})]})]})]}),Object(k.jsx)(v.a,{visible:K,className:"dialog-width",header:Ke("confirm"),modal:!0,footer:Ft,onHide:et,children:Object(k.jsxs)("div",{className:"confirmation-content",children:[Object(k.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),ae&&Object(k.jsxs)("span",{children:[Ke("delete_single_confirm_description")," ",Object(k.jsx)("b",{children:ae.code}),"?"]})]})}),Object(k.jsx)(v.a,{visible:Z,className:"dialog-width",header:Ke("confirm"),modal:!0,footer:Lt,onHide:tt,children:Object(k.jsxs)("div",{className:"confirmation-content",children:[Object(k.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),ae&&Object(k.jsx)("span",{children:Ke("delete_all_confirm_description")})]})})]})};var F=function(){return Object(k.jsx)(n.Suspense,{fallback:"loading",children:Object(k.jsx)(C,{})})},L=function(e){e&&e instanceof Function&&a.e(4).then(a.bind(null,114)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))},P=a(112),M=a(110);s.a.render(Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsx)(P.a,{}),Object(k.jsx)(M.a,{maxWidth:"xl",children:Object(k.jsx)(F,{})})]}),document.getElementById("root")),L()}},[[98,1,2]]]);